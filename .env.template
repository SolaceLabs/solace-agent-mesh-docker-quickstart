# SAM (Solace Agent Mesh) - Configuration Template
# Copy this file to .env and configure based on your deployment:
#   cp .env.template .env
#
# DEPLOYMENT MODES (works with both docker compose and podman compose):
# 1. BYO Everything (Minimal):     docker compose -f compose.yml up -d
# 2. Full Managed Stack:            docker compose -f compose.yml -f compose.broker.yml -f compose.database.yml -f compose.storage.yml up -d
# 3. Mix and Match:                 Combine the compose files you need

# ==========================================
# SAM IMAGE CONFIGURATION
# ==========================================
SAM_IMAGE=gcr.io/gcp-maas-prod/solace-agent-mesh-enterprise
SAM_TAG=1.14.9

SAM_DEPLOYER_IMAGE=gcr.io/gcp-maas-prod/sam-agent-deployer
SAM_DEPLOYER_TAG=1.1.3


POSTGRES_TAG=18.0-trixie
SEAWEEDFS_TAG=3.97-compliant

# ==========================================
# SAM NAMESPACE
# ==========================================
NAMESPACE=sam

# ==========================================
# WEB UI ACCESS CONFIGURATION
# ==========================================
# Set where the Web UI frontend and platform service will be accessible
FRONTEND_SERVER_URL=http://localhost:8000
PLATFORM_SERVICE_URL=http://localhost:8001

# ==========================================
# CONTAINER ENGINE CONFIGURATION
# ==========================================
# Set this if using Podman instead of Docker
# CONTAINER_ENGINE=podman
# CONTAINER_SOCKET=${XDG_RUNTIME_DIR}/podman/podman.sock

# For Docker (default):
# CONTAINER_ENGINE=docker
# CONTAINER_SOCKET=/var/run/docker.sock

# ==========================================
# LLM SERVICE CONFIGURATION (REQUIRED)
# ==========================================
# IMPORTANT: You MUST configure these for SAM to work
SAM_LLM_ENDPOINT=https://api.openai.com/v1
SAM_LLM_API_KEY=REPLACE_WITH_YOUR_API_KEY
SAM_MODEL_NAME=gpt-4

# ==========================================
# EXTERNAL BROKER CONFIGURATION
# Required ONLY for base deployment: docker compose -f compose.yml up -d
# Ignored when using compose-broker.yml
# ==========================================
EXTERNAL_BROKER_URL=tcp://your-broker.example.com:55555
EXTERNAL_BROKER_URL_WS=ws://your-broker.example.com:8008
EXTERNAL_BROKER_USERNAME=your-username
EXTERNAL_BROKER_PASSWORD=your-password
EXTERNAL_BROKER_VPN=default

# ==========================================
# EXTERNAL DATABASE CONFIGURATION
# Required ONLY for base deployment: docker compose -f compose.yml up -d
# Ignored when using compose-database.yml
# ==========================================
EXTERNAL_WEB_UI_DATABASE_URL=postgresql+psycopg2://user:password@dbhost:5432/sam_webui
EXTERNAL_ORCHESTRATOR_DATABASE_URL=postgresql+psycopg2://user:password@dbhost:5432/sam_orchestrator
EXTERNAL_PLATFORM_DATABASE_URL=postgresql+psycopg2://user:password@dbhost:5432/sam_platform

# ==========================================
# EXTERNAL S3 STORAGE CONFIGURATION
# Required ONLY for base deployment: docker compose -f compose.yml up -d
# Ignored when using compose-storage.yml
# ==========================================
EXTERNAL_S3_ENDPOINT_URL=https://s3.amazonaws.com
EXTERNAL_S3_BUCKET_NAME=my-sam-artifacts
EXTERNAL_S3_REGION=us-east-1
EXTERNAL_S3_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
EXTERNAL_S3_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY

# ==========================================
# MANAGED BROKER CONFIGURATION
# Used when including compose-broker.yml
# ==========================================
SOLACE_BROKER_USERNAME=client
SOLACE_BROKER_PASSWORD=password
SOLACE_BROKER_VPN=default

# ==========================================
# MANAGED DATABASE CONFIGURATION
# Used when including compose-database.yml
# ==========================================
POSTGRES_USERNAME=sam
POSTGRES_PASSWORD=sam

# ==========================================
# MANAGED STORAGE CONFIGURATION
# Used when including compose-storage.yml
# ==========================================
S3_BUCKET_NAME=sam-artifacts
S3_ENDPOINT_URL=http://seaweedfs:8333
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=sam
S3_SECRET_ACCESS_KEY=sam
